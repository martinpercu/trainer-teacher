<div
  class="max-w-4xl mx-auto bg-white dark:bg-neutral-800 rounded-lg shadow-lg mb-2 p-6 border border-neutral-200 dark:border-neutral-700">
  <!-- Header -->
  <div class="flex flex-row items-center align-middle space-x-2 h-7 gap-1">
    <div class="flex grow items-center space-x-2">
      <!-- <mat-icon class="text-neutral-600 dark:text-neutral-300">quiz</mat-icon> -->
      <h2 class="text-xl font-semibold text-neutral-900 dark:text-neutral-100">{{ exam.title }}</h2>
    </div>
    @if (exam.teacherName) {
    <div class="flex items-center space-x-2">
      <mat-icon class="text-neutral-600 dark:text-neutral-300">smart_toy</mat-icon>
      <p class="text-base text-neutral-600 dark:text-neutral-400">{{ exam.teacherName }}</p>
    </div>
    }
    <!-- <div (click)="switchShowQuestions()" class="flex flex-row cursor-pointer rounded-lg border p-2 border-neutral-200 dark:border-neutral-700 bg-neutral-150 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-100">
      <div class="mr-1">
        Questions
      </div>
      <div>
        @if (!showQuestions) {
          <mat-icon class="text-neutral-600 dark:text-neutral-300 items-center align-middle">expand_circle_down</mat-icon>
        } @else {
          <mat-icon class="text-neutral-600 dark:text-neutral-300 items-center align-middle">expand_circle_up</mat-icon>
        }
      </div>
    </div> -->
  </div>

  <!-- Details Section -->
  <div class="grid grid-cols-2 gap-4 mt-4">


    <!-- Passing Percentage -->
    <div class="flex items-center space-x-3">
      <mat-icon class="text-neutral-600 dark:text-neutral-300">target</mat-icon>
      <div>
        <!-- <div class="text-sm font-medium text-neutral-800 dark:text-neutral-200">Passing Percentage</div> -->
        <div class="text-base text-neutral-600 dark:text-neutral-400">{{ exam.passingPercentage }}% percentage need</div>
      </div>
    </div>

    <!-- Time to Do the ExamWait -->
    <div class="flex items-center space-x-3">
      <mat-icon class="text-neutral-600 dark:text-neutral-300">hourglass_empty</mat-icon>
      <div>
        <!-- <div class="text-sm font-medium text-neutral-800 dark:text-neutral-200">Time to Do</div> -->
        <div class="text-base text-neutral-600 dark:text-neutral-400">{{ exam.timeToDoTheExam }} min. to finished it.</div>
      </div>
    </div>

    <!-- Time to Wait -->
    <div class="flex items-center space-x-3">
      <mat-icon class="text-neutral-600 dark:text-neutral-300">watch_check</mat-icon>
      <div>
        <!-- <div class="text-sm font-medium text-neutral-800 dark:text-neutral-200">Time to Wait</div> -->
        <div class="text-base text-neutral-600 dark:text-neutral-400">{{ exam.timeToWait }} min. to retry </div>
      </div>
    </div>


    <div class="flex justify-end">
      <div (click)="switchShowQuestions()"
        class="flex flex-row max-w-fit cursor-pointer rounded-lg border p-2 border-neutral-200 dark:border-neutral-700 bg-neutral-150 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-100">
        <div class="mr-1">
          Questions
        </div>
        <div>
          @if (!showQuestions) {
          <mat-icon
            class="text-neutral-600 dark:text-neutral-300 items-center align-middle">expand_circle_down</mat-icon>
          } @else {
          <mat-icon class="text-neutral-600 dark:text-neutral-300 items-center align-middle">expand_circle_up</mat-icon>
          }
        </div>
      </div>
    </div>

  </div>


  <!-- Questions Section -->
  @if (showQuestions) {
  <div class="mt-4">
    <h3 class="text-lg font-medium text-neutral-800 dark:text-neutral-200 mb-2">Questions</h3>
    @for (question of exam.questions; track question.text; let i = $index) {
    <div
      class="bg-neutral-50 dark:bg-neutral-900 rounded-lg p-4 border border-neutral-200 dark:border-neutral-700 mb-4">
      <div class="flex items-center justify-between mb-3">
        <div class="flex items-center space-x-2">
          <div class="text-base font-semibold text-neutral-900 dark:text-neutral-100">
            Question {{ i + 1 }}: {{ question.text }}
          </div>
        </div>
        <div (click)="toggleOptions(i)"
          class="cursor-pointer rounded-lg border p-2 border-neutral-200 dark:border-neutral-700 bg-neutral-150 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-100">
          Options
        </div>
      </div>
      @if (showOptions[i]) {
      <div class="grid grid-cols-1 gap-2">
        @for (option of question.options; track option.text) {
        <div class="flex items-center space-x-2">
          <mat-icon class="text-neutral-600 dark:text-neutral-300">
            @if (option.isCorrect) {
            check_circle
            } @else {
            radio_button_unchecked
            }
          </mat-icon>
          <p class="text-base text-neutral-600 dark:text-neutral-400">{{ option.text }}</p>
        </div>
        }
      </div>
      }
    </div>
    }
  </div>
  }
</div>
